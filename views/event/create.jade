extends ../layout

block styles
  link(rel='stylesheet', href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/flick/jquery-ui.css')
  style.
    body {
      padding-top: 60px;
    }
    .center {
      margin: 0 auto;
      float: none;
    }
    span.divider {
      display: inline-block;
      width: 5px;
    }
    .reset-gap {
      padding: 0;
      margin: 0;
    }

block body
  include ../partials/topbar

  .container
    .row
      .col-sm-8.center
        .panel.panel-default
          .panel-heading
            h3(class='panel-title') 新增活動
          form(class='form-horizontal', role='form', method='post', action='')
            .panel-body
              
                //- input(type='hidden', name='_csrf', value=_csrf, id='_csrf')
                .form-group
                  label(for='title', class='col-sm-2 control-label') 活動名稱
                  .col-sm-6
                    input(type='text', class='form-control', id='title')
                .form-group
                  label(for='registrationStartOn', class='col-sm-2 control-label') 報名日期-起
                  .col-sm-6
                    input(type='text', class='form-control datepicker', id='registrationStartOn')
                .form-group
                  label(for='registrationEndOn', class='col-sm-2 control-label') 報名日期-迄
                  .col-sm-6
                    input(type='text', class='form-control datepicker', id='registrationEndOn')
                .form-group
                  label(for='startOn', class='col-sm-2 control-label ') 活動日期-起
                  .col-sm-6
                    input(type='text', class='form-control datepicker', id='startOn')
                .form-group
                  label(for='endOn', class='col-sm-2 control-label') 活動日期-迄
                  .col-sm-6
                    input(type='text', class='form-control datepicker', id='endOn')
                .form-group
                  label(for='sponsor', class='col-sm-2 control-label') 主辦單位
                  .col-sm-6
                    input(type='text', class='form-control', id='sponsor')
                .form-group
                  label(for='contact', class='col-sm-2 control-label') 聯絡人
                  .col-sm-6
                    input(type='text', class='form-control', id='contact')
                .form-group
                  label(for='contactPhone', class='col-sm-2 control-label') 聯絡電話
                  .col-sm-6
                    input(type='text', class='form-control', id='contactPhone')
                .form-group
                  label(for='contactEmail', class='col-sm-2 control-label') 聯絡電子郵件
                  .col-sm-6
                    input(type='text', class='form-control', id='contactEmail')
                .form-group
                  label(for='quantity', class='col-sm-2 control-label') 報名人數限制
                  .col-sm-6
                    input(type='text', class='form-control', id='quantity')
                
                .form-group.registration-data
                  label(for='registrationData-0', class='col-sm-2 control-label') 報名所需資料
                  .col-sm-3
                    input(type='text', class='form-control', id='registrationData-0')
                  .col-sm-3
                    select(id='registrationDataType-0', name='registrationDataType[]', class='form-control')
                      option(value='text', selected) 文字
                      option(value='number') 數字
                      option(value='date') 日期
                      option(value='tel') 電話
                      option(value='email') 電子郵件
                      option(value='select') 下拉式選單
                  .col-sm-1.reset-gap
                    a(class='btn btn-sm btn-success col-plus') 
                      span(class='glyphicon glyphicon-plus')
                


          .panel-footer.text-right
            a(class='btn btn-default') 取消
            span.divider
            a(class='btn btn-primary') 確認

block javascript
  script(src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js')
  script(src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/i18n/jquery.ui.datepicker-zh-TW.js')
  script.
    $(function() {
      $('.datepicker').datepicker();

      $('.col-plus').on('click', function (e) {
        var index = $('.registration-data').length;
        var row = $('<div></div>').addClass('form-group registration-data').attr('id', index);
        var label = $("<label for='' class='col-sm-2 control-label'></label>")
        var input = $("<div class='col-sm-3'><input type='text' class='form-control' id='registrationData-" + index + "' /></div>");
        var select = $("<div class='col-sm-3'> <select id='registrationDataType-" + index + "' name='registrationDataType-" + index + "' class='form-control'> <option value='text' selected>文字 <option value='number'>數字 <option value='date'>日期 <option value='tel'>電話 <option value='email'>電子郵件 <option value='select'>下拉式選單 </select> </div>");
        var btn = $("<div class='col-sm-1 reset-gap'><a class='btn btn-sm btn-danger col-minus'><span class='glyphicon glyphicon-minus'></span></a></div>");
        row.append(label);
        row.append(input);
        row.append(select);
        btn.on('click', function (e) {
          $(this).parent().remove();
        });
        row.append(btn);
        $('.registration-data').last().after(row);
        e.preventDefault();
      });
    });